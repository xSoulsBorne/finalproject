var meta = [216.8,214.71,219.46,216.8,220.67,225.5,224.04,230.89,231.15,228.49,227.28,234.35,236.86,228.99,225.52,225.13,220.61,222.03,216.61,214.99,213.38,218.43,214.16,202.97,192.72,187.18,187.19,181.21,208.53,212.48,211.88,214.9,224.3,220.17,209.38,202.57,202.96,200.67,198.05,199.89,205.37,205.46,201,195.29,197.91,196.99,183.68,185.45,192.83,195.33,197.6,199.53,200.94,196.61,196.92,196.53,202.03,199.45,183.1,172.58,166.75,172.16,165.08,165.9]
var google = [2724.88,2741,2821,2791.77,2832.38,2840.7,2840.05,2875.87,2854.41,2842.16,2809.42,2874.24,2859.81,2787.21,2743.29,2713.4,2641.85,2632,2606.68,2609.59,2564.25,2606.66,2627.98,2601.97,2508.04,2465.55,2450.2,2344.84,2392.99,2358.4,2334.91,2368.84,2457.09,2420.78,2351.43,2301.54,2325,2327.29,2285.9,2357.5,2323.4,2338,2308,2260.2,2243.67,2242.95,2129.17,2130,2172.99,2246.36,2314.7,2342.03,2357.99,2326.43,2386.94,2353.82,2371.41,2365.98,2265.58,2175.83,2158.49,2228.47,2172.97,2173.99]
var tesla = [907.85,942.85,997.86,1040.7,1024.49,1021.8,1097.88,1114.77,1113.95,1103.14,1094.75,1149.91,1152.87,1079,1076.59,1048.44,1008.47,1021.19,1026.24,1012.71,1014.92,1034.94,1034,1092.22,1034.85,1008.62,1000,918,900,934.4,906.36,924.08,955.5,945.6,888,845.63,825.36,809.77,759.66,787.35,769.76,764.48,760.5,734,721.58,679.96,653.92,669.32,718.67,759.8,778.8,771.98,792.63,743.39,734.6,719.99,749.89,766.64,718.5,679.9,678.99,706.99,675.5,662.91]
var amazn = [161.594,163.084,166.167,166.37,164.1185,165.3685,169.0375,170.8315,168.9505,166.495,165.827,168.3945,168.1105,162.2,160.079,157.3685,154.1365,155.099,156.025,155.897,154.0395,158.649,157.6025,156.738,149.615,146.2215,144.856,141.9485,145.9375,130.761,124.668,126.2205,126,123.499,119.0505,114,112.6425,110.156,110.7805,113.184,113.9925,115.8,112.853,110.034,109.898,108.819,105.4,108.175,112.6655,115.187,121.9945,125.179,125.61,124.4,128.99,124.1,123.75,121.3,114.5,106.54,104.88,109.06,104.58,106.98]

function callBuilds() {
    buildCircles(meta, "red")
    buildCircles(google, "blue")
    buildCircles(tesla, "yellow")
    buildCircles(amazn, "green")
    buildNumbers()
    buildDates()
}

function buildCircles(name, color){
    let ds2 = [['value1', 15], ['value3', 7]]
    let svg = d3.select("#d1").append('svg')
    svg.attr('width', 800).attr('height', 300)
    let pxX = svg.attr('width'), pxY = svg.attr('height')
    let scX = d3.scaleLinear().domain([1, 64]).range([65, pxX]).nice()
    let scY = d3.scaleLinear().domain([-1, 5]).range([pxY, 10]).nice()

    let counter = -1
    svg.selectAll('circle')
        .data(name)
        .enter()
        .append('circle')
        .attr('r', 3)
        .attr("fill", color)
        .attr('cx', d=>scX(++counter))
        .attr('cy', function(d) {
            return  260 - (d * 0.08)
        })
    let cd = svg.selectAll('circle').data()
    
}

function buildNumbers(){
    let ds1 = [['0'], ['200'], ['400'], ['600'],
    ['800'], ['1,000'], ['1,200'], ['1,400'], ['1,600'],
    ['1,800'], ['2,000'], ['2,200'], ['2,400'], ['2,600'],
    ['2,800'], ['3000']]

    let ds3 = []
    let svg = d3.select("#d1").append('svg')
    svg.attr('width', 800).attr('height', 300)
    svg.style('background', 'lightgrey')
    let pxX = svg.attr('width'), pxY = svg.attr('height')
    let scY = d3.scaleLinear().domain([-1, 16]).range([pxY, 10]).nice()

    let counter = -1
    svg.selectAll('text')
        .data(ds1)
        .enter()
        .append('text')
        .attr('x', 20)
        .attr('y', d=>scY(++counter))
        .text(d=>d[0])

    counter = -1
    svg.selectAll('circle')
        .data(ds3)
        .enter()
        .append('circle')
        .attr('r', 3)
        .attr('cx', 20) 
        .attr('cy', d=>scY(++counter)) 

}

function buildDates() {
    let ds1 = [['Mar 13'], ['Mar 20'], ['Mar 27'], ['Apr 03'],
    ['Apr 10'], ['Apr 17'], ['Apr 24'], ['May 01'], ['May 08'],
    ['May 15'], ['May 22'], ['May 29'], ['Jun 05'], ['Jun 12'],
    ['Jun 19'], ['Jun 26']]

    let svg = d3.select("#d1").append('svg')
    svg.attr('width', 800).attr('height', 300)
    svg.style('background', 'lightgrey')
    let pxX = svg.attr('width'), pxY =svg.attr('height')
    let scX = d3.scaleLinear().domain([1, 14]).range([100, pxX]).nice()

    let counter = -1
    svg.selectAll('text')
        .data(ds1)
        .enter()
        .append('text')
        .attr('x', d=>scX(++counter))
        .attr('y', 280)
        .text(d=>d[0])
}